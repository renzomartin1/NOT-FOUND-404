ScreenManager:
    LoginScreen:
        name: "login"
    Reservas:
        name: "reservas"
    Servicios:
        name: "servicios"

<LoginScreen>:
    canvas.before:
        Color:
            rgba: 28/255, 38/255, 92/255, 1
        Rectangle:
            pos: self.pos
            size: self.size

    MDCard:
        size_hint: None, None
        size: 300, 550
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation: 0
        padding: 65
        spacing: 35
        orientation: 'vertical'
        md_bg_color: 49/255, 135/255, 148/255, 1

        Image:
            source: 'logo1blanco.png'
            size_hint: None, None
            size: '200dp', '200dp'
            halign: 'center'

        MDTextField:
            id: email
            icon_left: 'account-check'
            hint_text: 'email'
            hint_text_color: 0, 0, 0, 1  # Cambia el color del texto de sugerencia a negro
            size_hint_x: None
            width: 220
            font_size: 20
            pos_hint: {'center_x': 0.5} 
            line_color_focus: 1, 1, 1, 1  # Color de la línea cuando está enfocado
            foreground_color: 0, 0, 0, 1  # Color del texto: negro

        MDTextField:
            id: contraseña
            icon_left: 'key-variant'
            hint_text: 'contraseña'
            hint_text_color: 0, 0, 0, 1  # Cambia el color del texto de sugerencia a negro
            size_hint_x: None
            width: 220
            font_size: 20
            pos_hint: {'center_x': 0.5}
            password: True
            line_color_focus: 1, 1, 1, 1  # Color de la línea cuando está enfocado
            foreground_color: 0, 0, 0, 1  # Color del texto: negro

        MDRoundFlatButton:
            text: 'LOG IN'
            font_size: 15
            pos_hint: {'center_x': 0.5}
            on_press: app.verificar_usuario()
            md_bg_color: 1, 1, 1, 1
            

        MDLabel:
            id: message
            text: ""
            theme_text_color: "Error"
            halign: "center"
            font_size: 18

<Reservas>:
    canvas.before:
        Color:
            rgba: 28/255, 38/255, 92/255, 1
        Rectangle:
            pos: self.pos
            size: self.size

    MDCard:
        size_hint: None, None
        size: 300, 450
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation: 0
        padding: 65
        spacing: 35
        orientation: 'vertical'
        md_bg_color: 49/255, 135/255, 148/255, 1

        Image:
            source: 'logo1blanco.png'
            size_hint: None, None
            size: '200dp', '200dp'
            halign: 'center'

        MDIcon:
            icon: 'check-circle'
            icon_color: 0, 0, 1, 1
            halign: 'center'
            font_size: 180

        MDTextField:
            id: reserva_id
            icon_left: 'account-check'
            hint_text: 'id de reserva'
            hint_text_color: 0, 0, 0, 1  # Cambia el color del texto de sugerencia a negro
            size_hint_x: None
            width: 220
            font_size: 20
            pos_hint: {'center_x': 0.5} 
            line_color_focus: 1, 1, 1, 1  # Color de la línea cuando está enfocado
            foreground_color: 0, 0, 0, 1  # Color del texto: negro

        MDLabel:  # Aquí agregamos el mensaje
            id: message
            text: ""  # Inicialmente vacío
            theme_text_color: "Error"
            halign: "center"
            font_size: 18

        MDRoundFlatButton:
            text: 'VER SERVICIOS'
            font_size: 15
            pos_hint: {'center_x': 0.5}
            on_press: root.validar_reserva()  # Llama a la función de validación en la pantalla de reservas.

        MDRoundFlatButton:
            text: 'LOG OUT'
            font_size: 15
            pos_hint: {'center_x': 0.5}
            on_press: app.logout()

<Servicios>:
    canvas.before:
        Color:
            rgba: 28/255, 38/255, 92/255, 1
        Rectangle:
            pos: self.pos
            size: self.size



    MDCard:
        size_hint: None, None
        size: 300, 550
        pos_hint: {"center_x": 0.5, "center_y": 0.5}
        elevation: 0
        padding: 65
        spacing: 20
        orientation: 'vertical'
        md_bg_color: 49/255, 135/255, 148/255, 1

        Image:
            source: 'logo1blanco.png'
            size_hint: None, None
            size: '200dp', '200dp'
            halign: 'center'

        MDLabel:
            text: "Selecciona los servicios que deseas contratar:"
            theme_text_color: "Secondary"
            halign: "center"
            font_size: 18

        BoxLayout:
            orientation: 'vertical'
            size_hint_y: None
            height: self.minimum_height  # Esto permite que el BoxLayout crezca para mostrar todos los checkboxes

            MDCheckbox:
                id: servicio_1
                active: False
            MDLabel:
                text: "Servicio A"
                theme_text_color: "Primary"
                size_hint_x: None
                width: 200

            MDCheckbox:
                id: servicio_2
                active: False
            MDLabel:
                text: "Servicio B"
                theme_text_color: "Primary"
                size_hint_x: None
                width: 200

            MDCheckbox:
                id: servicio_3
                active: False
            MDLabel:
                text: "Servicio C"
                theme_text_color: "Primary"
                size_hint_x: None
                width: 200

            MDCheckbox:
                id: servicio_4
                active: False
            MDLabel:
                text: "Servicio D"
                theme_text_color: "Primary"
                size_hint_x: None
                width: 200

        MDRoundFlatButton:
            text: 'Confirmar selección'
            font_size: 15
            pos_hint: {'center_x': 0.5}
            #on_press: root.confirmar_servicios()  # Llama a la función para confirmar los servicios seleccionados
            md_bg_color: 0.4, 0.6, 1, 1